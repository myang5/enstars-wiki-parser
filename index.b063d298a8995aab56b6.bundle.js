!function(e){function t(t){for(var r,i,l=t[0],c=t[1],u=t[2],f=0,p=[];f<l.length;f++)i=l[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;o.push([399,1]),n()}({256:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(242),i=n(249),l=n(128),c=n(31);n(256);function u(){var e=a.a.createElement(a.a.Fragment,null,"A website to more easily upload event/gacha stories from the mobile idol game Ensemble Stars to the fandom wiki.",a.a.createElement("br",null),'It formats your story chapter into text that can be pasted directly into the "source" section of the page.',a.a.createElement("br",null),"Developed by ",a.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://twitter.com/gayandasleep"},"midori")," (last updated ".concat("5/8/21",")."));return a.a.createElement("header",null,a.a.createElement("h1",null,a.a.createElement(l.b,{className:"star-link",to:"/"},"ENSTARS STORY FORMATTER")),a.a.createElement("div",{className:"horizontal"},a.a.createElement("p",null,e),a.a.createElement("ul",{id:"navbar"},a.a.createElement("li",null,a.a.createElement(l.b,{className:"star-link",to:"/howto"},"HOW TO USE")),a.a.createElement("li",null,a.a.createElement("a",{className:"star-link",target:"_blank",rel:"noreferrer",href:"https://github.com/myang5/enstars-wiki-parser/issues"},"KNOWN ISSUES")),a.a.createElement("li",null,a.a.createElement("a",{className:"star-link",target:"_blank",rel:"noreferrer",href:"https://twitter.com/gayandasleep"},"CONTACT")),a.a.createElement("li",null,a.a.createElement("a",{className:"star-link",target:"_blank",rel:"noreferrer",href:"https://github.com/myang5/enstars-wiki-parser"},"GITHUB")))))}var s={TETORA:"Tetora_Nagumo",HAJIME:"Hajime_Shino",TOMOYA:"Tomoya_Mashiro",HINATA:"Hinata_Aoi",MIDORI:"Midori_Takamine",TORI:"Tori_Himemiya",TOURI:"Tori_Himemiya",SHINOBU:"Shinobu_Sengoku",MITSURU:"Mitsuru_Tenma",YUTA:"Yuta_Aoi",YUUTA:"Yuta_Aoi",TSUKASA:"Tsukasa_Suou",SORA:"Sora_Harukawa",SUBARU:"Subaru_Akehoshi",HOKUTO:"Hokuto_Hidaka",MAKOTO:"Makoto_Yuuki",SOUMA:"Souma_Kanzaki",ADONIS:"Adonis_Otogari",NATSUME:"Natsume_Sakasaki",KOGA:"Koga_Oogami",KOUGA:"Koga_Oogami",RITSU:"Ritsu_Sakuma",MAO:"Mao_Isara",YUZURU:"Yuzuru_Fushimi",ARASHI:"Arashi_Narukami",MIKA:"Mika_Kagehira",EICHI:"Eichi_Tenshouin",KEITO:"Keito_Hasumi",KAORU:"Kaoru_Hakaze",IZUMI:"Izumi_Sena",CHIAKI:"Chiaki_Morisawa",SHU:"Shu_Itsuki",SHUU:"Shu_Itsuki",MADARA:"Madara_Mikejima",KURO:"Kuro_Kiryu",KUROU:"Kuro_Kiryu",WATARU:"Wataru_Hibiki",KANATA:"Kanata_Shinkai",REI:"Rei_Sakuma",NAZUNA:"Nazuna_Nito",LEO:"Leo_Tsukinaga",TSUMUGI:"Tsumugi_Aoba",JIN:"Jin_Sagami",AKIOMI:"Akiomi_Kunugi",HIYORI:"Hiyori_Tomoe",JUN:"Jun_Sazanami",NAGISA:"Nagisa_Ran",IBARA:"Ibara_Saegusa",RINNE:"Rinne_Amagi",HIMERU:"HiMERU",KOHAKU:"Kohaku_Oukawa",NIKI:"Niki_Shiina",HIIRO:"Hiiro_Amagi",AIRA:"Aira_Shiratori",MAYOI:"Mayoi_Ayase",TATSUMI:"Tatsumi_Kazehaya",SEIYA:"Seiya_Hidaka",GATEKEEPER:"Gatekeeper",CHIYO:"Chiyo_Ono",AIKA:"Aika_Aino",ASUKA:"Asuka_Momochi",KIKO:"Kiko_Hayakawa",KANAE:"Kanae_Miyoshi",YUKI:"Yuki_Kitagawa",YAE:"Yae_Nagamachi",YUYU:"Yuyu_Kinoshita",MISAKI:"Misaki_Maruko",RUKA:"Ruka_Tsukinaga",KURUMI:"Kurumi_Hino",ICHIKA:"Ichika_Kodama",KOTORI:"Kotori_Kanon",TSUBASA:"Tsubasa_Hamori",MIKE:"Mike_Nekozuka",AZUSA:"Azusa_Kobato",ISAMI:"Isami_Taiga",IKARI:"Ikari_Syachi",HIMENO:"Himeno_Kumasawa",SUMIRE:"Sumire_Kijishi",SHIZUKU:"Shizuku_Fujii",KOHARU:"Koharu_Ougi",NATSUMI:"Natsumi_Minami",YUU:"Yuu_Nagai",KOYOI:"Koyoi_Hoshiumi",TSUYURI:"Tsuyuri_Hassaku",NANA:"Nana_Harukaze",SAAYA:"Saaya_Hotta",YURI:"Yuri_Natsuno",MAI:"Mai_Anjo",RENREN:"Renren_Ryusenji",MARIA:"Maria_Yumeji",CHIKA:"Chika_Tohmi",KANA:"Kana_Umezono",KAIRI:"Kairi_Kirishima",RUNA:"Runa_Hiiragi",MOMO:"Momo_Saeki",TOMOKO:"Tomoko_Yuuki",HAYATE:"Hayate_Yogiri",HIYONO:"Hiyono_Sasame",QOO:"Qoo_Caloa",MUTSUMI:"Mutsumi_Sakaki",MARI:"Mari_Hanaoka",REIKA:"Reika_Enjouji",MIZUKI:"Mizuki_Futaba",MINAZUKI:"Minazuki_Futaba",BOTAN:"Botan_Komatsu",GIN:"Gin_Sanjo",YAKO:"Yako_Konan",KASUMI:"Kasumi_Mikage",HIKARU:"Hikaru_Yakabe",HIMARI:"Himari_Tsurumi",AYAME:"Ayame_Kusaka",SAKURA:"Sakura_Itoh",KAEDE:"Kaede_Segawa",SUZU:"Suzu_Kuromori",USHIO:"Ushio_Mizushima",RURI:"Ruri_Amamiya",SAN:"San_Iwato",HIBIKI:"Hibiki_Natsume",SHION:"Shion_Mineyama",HOTORI:"Hotori_Kannazuki",CHIZURU:"Chizuru_Yakumo",FUMI:"Fumi_Midori",MASHIRO:"Mashiro_Hitaki",SEIRA:"Seira_Sone"},f={AKIRA:"日日日 (Akira)",YUUKI_YOSHINO:"結城由乃 (Yuuki Yoshino)",NISHIOKA_MAIKO:"西岡麻衣子 (Nishioka Maiko)",YUUMASU:"ゆーます (Yuumasu)",KINO_SEITARO:"木野誠太郎 (Kino Seitaro)",HAPPY_ELEMENTS:"Happy Elements株式会社 (Happy Elements K.K)",UMEDA_CHITOSE:"梅田千歳 (Umeda Chitose)"},p="location",h="author",m="translators",d="editors",b="name",y="link",g="whatGame",v="ES!!",E="ES!",w="writer",O="location",S="bottom",k="text",A="name",_="prev",x="next";function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(){var e;return j(e={},b,""),j(e,y,""),e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=Object(r.createContext)(),P=function(e){return JSON.parse(localStorage.getItem(e))||[N()]},M=function(e){var t,n,o=e.children,i=C(Object(r.useState)({}),2),l=i[0],c=i[1],u=Object(r.useRef)(l),s=C(Object(r.useState)((T(t={},p,""),T(t,h,f.AKIRA),T(t,m,P(m)),T(t,d,P(d)),T(t,g,v),t)),2),b=s[0],y=s[1],E=C(Object(r.useState)((T(n={},w,"#FFFFFF"),T(n,O,"#FFFFFF"),T(n,S,"#FFFFFF"),T(n,k,"#FFFFFF"),n)),2),A=E[0],_=E[1],x=C(Object(r.useState)(JSON.parse(localStorage.getItem("nav"))||{}),2),j={renders:l,renderRef:u,setRenders:c,details:b,setDetails:y,colors:A,setColors:_,nav:x[0],setNav:x[1],inputRef:Object(r.useRef)(null),tlNotesRef:Object(r.useRef)(null)};return a.a.createElement(R.Provider,{value:j},o)};n(261);function U(e){var t=e.tabs,n=e.clicked,r=e.onClick;return a.a.createElement("div",{className:"tab-menu"},t.map((function(e){return a.a.createElement("button",{type:"button",key:e,className:"tablink".concat(n===e?" active":""),onClick:function(){return r(e)}},e)})))}n(262);var H=n(244),K=n.n(H);function D(e){var t=e.clicked,n=e.value,r=e.children;return a.a.createElement("div",{className:K()("tab-content","tab-content--".concat(n.replace(" ","-").toLowerCase()),{"tab-content--active":t===n})},r)}var F=n(201),L=n.n(F),Y=n(202),G=n(204),B=n(133),z=n(206),W=n(207),q=n(203),X=n(250),J=n(205),Z=n(251);function $(e){var t=e.querySelectorAll("br");if(t.length>0){for(var n=t[0].parentNode,r=n.parentNode,a=0;a<t.length;a++){var o=new Range;if(o.setStart(t[a].parentNode,0),o.setEndBefore(t[a]),!o.collapsed){var i=document.createElement(n.tagName.toLowerCase());i.append(o.extractContents()),r.insertBefore(i,n)}t[a].remove()}0===n.innerHTML.length&&n.remove()}return e}function V(e){return(new DOMParser).parseFromString(e,"text/html")}function Q(){var e=Object(r.useContext)(R),t=e.renderRef,n=e.setRenders,o=e.inputRef,i={plugins:[G.a,B.a,z.a,W.a,q.a,J.a,Z.a],toolbar:["bold","italic","link","|","undo","redo"],autosave:{save:function(e){var r=function(e){var t=$(V(e)),n=Array.from(t.querySelectorAll("p"),(function(e){return e.textContent})),r={};return n.forEach((function(e){var t=e.split(" ")[0];t.includes(":")&&(t=t.slice(0,t.indexOf(":")),s[t.toUpperCase()]&&(t=t[0].toUpperCase()+t.slice(1,t.length),r[t]=""))})),r}(e.getData());Object.keys(r).forEach((function(e){r[e]=t.current[e]||""})),n(r)}}};return Object(r.useEffect)((function(){o.current.editor.editing.view.change((function(e){e.setAttribute("spellcheck","false",o.current.editor.editing.view.document.getRoot())}))}),[]),a.a.createElement(L.a,{editor:Y.a,config:i,data:"<p>If this is your first time using the formatter, please check the <a href='/#/howto'>Text Guidelines</a> to make\n        sure your text is ready.</p>\n      <p>---EXAMPLE DIALOGUE---</p>\n      <p>The header image.png</p>\n      <p><strong>Person A:</strong> This is a line said by Person A! Their line starts with their name followed by a colon.</p>\n      <p><strong>Person B:</strong> This is a line said by another person!</p>\n      <p>Heading: Location: Hallway (will format to \"Location: Hallway\")</p>\n      <p>A screenshot of the game.jpeg</p>\n      <p><strong>Person A:</strong> Another line from Person A.</p>",ref:o})}function ee(){var e=Object(r.useContext)(R).tlNotesRef,t={plugins:[z.a,W.a,q.a,X.a,J.a,G.a,B.a],toolbar:["bold","italic","link","numberedList","|","undo","redo"]};return Object(r.useEffect)((function(){e.current.editor.editing.view.change((function(t){t.setAttribute("spellcheck","false",e.current.editor.editing.view.document.getRoot())}))}),[]),a.a.createElement(L.a,{editor:Y.a,config:t,data:"<p>If this is your first time using the formatter, please check the <a href='./howto.html#tlNotesSection'>Text\n     Guidelines</a> for how to add translation notes.</p>",ref:e})}var te=n(52),ne=n.n(te),re=n(72),ae=n.n(re),oe=n(246),ie=n.n(oe),le=function(e,t,n,r){var a=r.clientWidth,o=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=i-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var s;if(u<0)s=359;else if(u>o)s=0;else{s=360*(-100*u/o+100)/100}if(n.h!==s)return{h:s,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f;if(c<0)f=0;else if(c>a)f=359;else{f=360*(100*c/a)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null};function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var a=de(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,r,o=pe(i);function i(){var e;ue(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(me(e=o.call.apply(o,[this].concat(n))),"handleChange",(function(t){var n=le(t,e.props.direction,e.props.hsl,e.container);n&&"function"==typeof e.props.onChange&&e.props.onChange(n,t)})),be(me(e),"handleMouseDown",(function(t){e.handleChange(t),window.addEventListener("mousemove",e.handleChange),window.addEventListener("mouseup",e.handleMouseUp)})),be(me(e),"handleMouseUp",(function(){e.unbindEventListeners()})),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=ae()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:"".concat(100*this.props.hsl.h/360,"%")},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:"".concat(-100*this.props.hsl.h/360+100,"%")}}},{vertical:"vertical"===n});return a.a.createElement("div",{style:r.hue},a.a.createElement("div",{className:"hue-".concat(n),style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),a.a.createElement("div",{style:r.pointer},this.props.pointer?a.a.createElement(this.props.pointer,this.props):a.a.createElement("div",{style:r.slider}))))}}])&&se(t.prototype,n),r&&se(t,r),i}(r.PureComponent||r.Component),ge=n(247),ve=n.n(ge);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var a=_e(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(i,e);var t,n,r,o=Se(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),xe(Ae(t=o.call(this,e)),"handleChange",(function(e){"function"==typeof t.props.onChange&&t.throttle(t.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),a=r.width,o=r.height,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=i-(n.getBoundingClientRect().left+window.pageXOffset),u=l-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>a&&(c=a),u<0?u=0:u>o&&(u=o);var s=c/a,f=1-u/o;return{h:t.h,s:s,v:f,a:t.a,source:"hsv"}}(e,t.props.hsl,t.container),e)})),xe(Ae(t),"handleMouseDown",(function(e){t.handleChange(e),window.addEventListener("mousemove",t.handleChange),window.addEventListener("mouseup",t.handleMouseUp)})),xe(Ae(t),"handleMouseUp",(function(){t.unbindEventListeners()})),t.throttle=ve()((function(e,t,n){e(t,n)}),50),t}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,i=t.pointer,l=t.circle,c=ae()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl(".concat(this.props.hsl.h,",100%, 50%)"),borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:"".concat(-100*this.props.hsv.v+100,"%"),left:"".concat(100*this.props.hsv.s,"%"),cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:i,circle:l}},{custom:!!this.props.style});return a.a.createElement("div",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),a.a.createElement("div",{style:c.white,className:"saturation-white"},a.a.createElement("div",{style:c.black,className:"saturation-black"}),a.a.createElement("div",{style:c.pointer},this.props.pointer?a.a.createElement(this.props.pointer,this.props):a.a.createElement("div",{style:c.circle}))))}}])&&we(t.prototype,n),r&&we(t,r),i}(r.PureComponent||r.Component),Ne=n(198),Te=n.n(Ne),Ce=n(248),Ie=n.n(Ce),Re=n(135),Pe=n.n(Re),Me=function(e){var t=0,n=0;return Ie()(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},Ue=function(e,t){var n=e.hex?Pe()(e.hex):Pe()(e),r=n.toHsl(),a=n.toHsv(),o=n.toRgb(),i=n.toHex();return 0===r.s&&(r.h=t||0,a.h=t||0),{hsl:r,hex:"000000"===i&&0===o.a?"transparent":"#".concat(i),rgb:o,hsv:a,oldHue:e.h||t||r.h,source:e.source}};function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var a=We(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(l,t);var n,r,o,i=Ge(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),qe(ze(t=i.call(this)),"handleChange",(function(e,n){if(Me(e)){var r=Ue(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}})),qe(ze(t),"handleSwatchHover",(function(e,n){if(Me(e)){var r=Ue(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}})),t.state=Fe({},Ue(e.color,0)),t.debounce=Te()((function(e,t,n){e(t,n)}),100),t}return n=l,o=[{key:"getDerivedStateFromProps",value:function(e,t){return Fe({},Ue(e.color,t.oldHue))}}],(r=[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.a.createElement(e,Ke({},this.props,this.state,{onChange:this.handleChange},t))}}])&&Le(n.prototype,r),o&&Le(n,o),l}(r.PureComponent||r.Component);return t.propTypes=Fe({},e.propTypes),t.defaultProps=Fe(Fe({},e.defaultProps),{},{color:{h:250,s:.5,l:.2,a:1}}),t},Je=function(){var e=ae()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.a.createElement("div",{style:e.picker})},Ze=function(){var e=ae()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return a.a.createElement("div",{style:e.picker})},$e=function(e){var t=e.width,n=e.onChange,r=(e.rgb,e.hsl),o=e.hsv,i=(e.hex,e.renderers,e.styles),l=void 0===i?{}:i,c=e.className,u=void 0===c?"":c,s=ae()(ie()({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo",position:"absolute",left:"11rem",top:"0",zIndex:"1000"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"10px 12px"},controls:{display:"flex"},color:{width:"32px"},toggles:{flex:"1"},hue:{height:"10px",position:"relative"},Hue:{radius:"2px"}}},l));return a.a.createElement("div",{style:s.picker,className:"chrome-picker ".concat(u)},a.a.createElement("div",{style:s.saturation},a.a.createElement(je,{style:s.Saturation,hsl:r,hsv:o,pointer:Ze,onChange:n})),a.a.createElement("div",{style:s.body},a.a.createElement("div",{style:s.controls,className:"flexbox-fix"},a.a.createElement("div",{style:s.toggles},a.a.createElement("div",{style:s.hue},a.a.createElement(ye,{style:s.Hue,hsl:r,pointer:Je,onChange:n}))))))};$e.propTypes={width:ne.a.oneOfType([ne.a.string,ne.a.number]),disableAlpha:ne.a.bool,styles:ne.a.object,defaultView:ne.a.oneOf(["hex","rgb","hsl"]),onChange:ne.a.func},$e.defaultProps={width:225,disableAlpha:!1,styles:{}};var Ve=Xe($e);function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(e){var t=e.label,n=e.color,o=e.handleColorChange,i=e.isFocused,l=e.onFocus,c=rt(Object(r.useState)("#000"),2),u=c[0],s=c[1];return a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:"".concat(t,"Color")},t[0].toUpperCase()+t.slice(1,t.length)),a.a.createElement("input",{id:"".concat(t,"Color"),className:"jscolor",spellCheck:"false",value:n.toUpperCase(),style:{backgroundColor:n,color:u},onChange:function(e){var n,r=e.target.value,a="#"===(n=r)[0]?n.toUpperCase():"#".concat(n.toUpperCase());if(o(t,a),4===a.length||7===a.length){var i=function(e){var t=0,n=0,r=0;4===e.length?(t="0x".concat(e[1]).concat(e[1]),n="0x".concat(e[2]).concat(e[2]),r="0x".concat(e[3]).concat(e[3])):7===e.length&&(t="0x".concat(e[1]).concat(e[2]),n="0x".concat(e[3]).concat(e[4]),r="0x".concat(e[5]).concat(e[6])),t/=255,n/=255,r/=255;var a=Math.min(t,n,r),o=Math.max(t,n,r),i=o-a,l=0,c=0;return l=0===i?0:o===t?(n-r)/i%6:o===n?(r-t)/i+2:(t-n)/i+4,(l=Math.round(60*l))<0&&(l+=360),c=(o+a)/2,{h:l,s:+(0===i?0:i/(1-Math.abs(2*c-1))).toFixed(2),l:c=+c.toFixed(2)}}(a).l;s(i>.6?"#000":"#fff")}},onFocus:function(){return l(t)}}),i&&a.a.createElement(Ve,{color:n,onChange:function(e){var n=e.hex,r=e.hsl.l;o(t,n),s(r>.6?"#000":"#fff")},disableAlpha:!0}))}var it=function(){var e=Object(r.useContext)(R),t=e.colors,n=e.setColors,o=rt(Object(r.useState)(""),2),i=o[0],l=o[1],c=function(e,r){n(tt(tt({},t),{},nt({},e,r)))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Heading Colors"),Object.entries(t).map((function(e){var t=rt(e,2),n=t[0],r=t[1],o=n===i;return a.a.createElement(ot,Qe({key:n},{label:n,color:r,handleColorChange:c,isFocused:o,onFocus:l}))})))};function lt(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=Object.values(f);function dt(){var e=Object(r.useContext)(R),t=e.details,n=e.setDetails,o=function(e){var r=e.target,a=r.id,o=r.value;n(pt(pt({},t),{},ht({},a,o)))},i=function(e){var r=e.target.value;n(pt(pt({},t),{},ht({},g,r)))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Story Details"),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:p},"Location"),a.a.createElement("input",{type:"text",id:p,value:t[p],onChange:o})),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:h},"Writer"),a.a.createElement("select",{id:h,defaultValue:t[h],onChange:o},mt.map((function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement(bt,{personTypeDetailKey:m,details:t,onChange:n}),a.a.createElement(bt,{personTypeDetailKey:d,details:t,onChange:n}),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:g},"Game"),a.a.createElement("input",{type:"radio",name:g,value:v,id:v,checked:t[g]===v,onChange:i}),a.a.createElement("label",{className:"label--radio",htmlFor:v},"ES!!"),a.a.createElement("input",{type:"radio",name:g,value:E,id:E,checked:t[g]===E,onChange:i}),a.a.createElement("label",{className:"label--radio",htmlFor:E},"ES!")),a.a.createElement(it,null))}function bt(e){var t=e.personTypeDetailKey,n=e.details,r=e.onChange,o=function(e){var t=e.target,a=t.value,o=ct(t.id.split("_"),3),i=o[0],l=o[1],c=o[2],u=lt(n[i]);u[c]=pt(pt({},u[c]),{},ht({},l,a)),r(pt(pt({},n),{},ht({},i,u)))},i=t===m?"Translator":"Editor";return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"row row--label-only"},a.a.createElement("span",{className:"row__spacer"}),a.a.createElement("label",{className:"row__half-width",id:"".concat(t,"-name-label")},"Name"),a.a.createElement("label",{className:"row__half-width",id:"".concat(t,"-credit-label")},"Credit link/wiki username")),n[t].map((function(e,n){return a.a.createElement("div",{className:"row row--person",key:"".concat(t,"_").concat(n)},0===n?a.a.createElement("label",{className:"row__spacer",id:"".concat(t,"-label")},i):a.a.createElement("span",{className:"row__spacer"}),a.a.createElement("input",{className:"row__half-width",type:"text","aria-labelledby":"".concat(t,"-label ").concat(t,"-name-label"),id:"".concat(t,"_").concat(b,"_").concat(n),value:e[b],onChange:o}),a.a.createElement("input",{className:"row__half-width",type:"text","aria-labelledby":"".concat(t,"-label ").concat(t,"-credit-label"),id:"".concat(t,"_").concat(y,"_").concat(n),value:e[y],onChange:o}))})),a.a.createElement("div",{className:"row"},a.a.createElement("span",{className:"row__spacer"}),a.a.createElement("button",{type:"button",className:"btn--add-person",id:"".concat(t,"_add-person"),onClick:function(e){var t,a=ct(e.target.id.split("_"),1)[0],o=lt(n[a]);o.push((ht(t={},b,""),ht(t,y,""),t)),r(pt(pt({},n),{},ht({},a,o)))}},"+ Add")))}function yt(e){return e.querySelectorAll("strong").forEach((function(e){e.replaceWith("'''".concat(e.textContent,"'''"))})),e.querySelectorAll("i").forEach((function(e){e.replaceWith("''".concat(e.textContent,"''"))})),e.querySelectorAll("a").forEach((function(e){e.replaceWith("[".concat(e.href," ").concat(e.textContent,"]"))})),e}function gt(e,t){var n="";return function(r){var a=r.textContent.replace(/&nbsp;/g," ").trim();if(""===a)return a;if(vt(a))return n="",e.cgRender.replace("FILENAME",a.trim());r.innerHTML=function(e){if(e.search(/\[\d+\]/)>0){var t=document.querySelector("#title").value;if(t.length>0)e.match(/\[\d+\]/g).forEach((function(n){var r=n.substring(n.indexOf("[")+1,n.indexOf("]")),a="<span id='".concat(t,"Ref").concat(r,"'>[[#").concat(t,"Note").concat(r,"|<sup>[").concat(r,"]</sup>]]</span>");e=e.replace(n,a)}));else document.querySelector(".error").innerHTML="WARNING: The formatter detected TL notes in the dialogue but no chapter title in the TL Notes tab. TL notes were not formatted."}return e}(r.innerHTML);var o=a.split(" ")[0];if(!o.includes(":"))return"".concat(yt(r).innerHTML,"\n\n");var i=o.replace(":","");if("HEADING"===i.toUpperCase())return n="",e.heading.replace("HEADING",a.slice(a.indexOf(":")+1).trim());if(void 0!==s[i.toUpperCase()]){var l="";if(i!==n){n=i;var c=e.dialogueRender,u="".concat(i[0].toUpperCase()+i.slice(1,i.length));l+=c.replace("FILENAME",t[u].trim())}var f=r.childNodes[0].textContent;0===(f=(f=f.replace(o,"")).replace(i,"")).trim().length?r.childNodes[0].remove():r.childNodes[0].textContent=f;var p=yt(r);return l+="".concat(p.innerHTML.trim(),"\n\n")}return""}}function vt(e){for(var t=[".png",".gif",".jpg",".jpeg",".ico",".pdf",".svg"],n=0;n<t.length;n++)if(e.toLowerCase().endsWith(t[n]))return!0;return!1}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e){var t=e.inputData,n=e.tlNotesData,r=e.renders,a=e.details,o=e.onChangeDetails,i=e.colors,l=e.nav;!function(e){Object.entries(e).forEach((function(t){var n=Et(t,2),r=n[0],a=n[1];if(r===m||r===d){var o=a.reduce((function(e,t){var n=t[b],r=t[y];return n||r?(t[b]=n.trim(),t[y]=r.trim(),e.push(t),e):e}),[]);0===o.length&&o.push(N()),e[r]=o}else e[r]=a.trim();r.endsWith("Col")&&(e[r]=a.startsWith("#")?a:"#".concat(a))}))}(a),o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a));var c=_t(a,i),u=$(V(t));xt(m,a[m]),xt(d,a[d]),xt("nav",l);var f=u.querySelectorAll("p"),p=Nt(l);p+=c.header;var E=0,w=0,O=f[0].textContent.trim();vt(O)&&(p=p.replace("HEADERFILE",O),w+=1);for(var S,k,A,_,x,j=gt(c,r);w<f.length;w++)E+=(S=f[w].textContent).match(/\[\d+\]/g)?S.match(/\[\d+\]/g).length:0,p+=j(f[w]);return E>0&&(p+=function(e,t){var n=document.querySelector("#title").value;if(n.length>0){var r=$(V(e)),a=[];if(r.body.firstChild){if(yt(r),"OL"===r.body.firstChild.tagName.toUpperCase()){var o=Array.from(r.querySelectorAll("li"));o=o.map((function(e){return e.textContent.replace(/&nbsp;/g," ").trim()})),a=o.filter((function(e){return e.trim().length>0}))}else{var i=Array.from(r.querySelectorAll("p"));a=i.reduce((function(e,t){var n=t.textContent.replace(/&nbsp;/g," ").trim();return isNaN(n[0])?n.length>0&&(e[e.length-1]+="\n".concat(n)):e.push(n.split(" ").slice(1).join(" ")),e}),[])}a.length!==t&&(document.querySelector(".error").innerHTML+="WARNING: The formatter detected an unequal number of TL markers and TL notes.");for(var l='|-\n| colspan="2"|',c="<span id='".concat(n,"NoteNUM'>NUM.[[#").concat(n,"RefNUM|↑]] TEXT</span><br />"),u=0;u<a.length;u++){var s=c.replace(/NUM/g,u+1);l+=s.replace("TEXT",a[u])}return l=l.replace(/<br \/>$/m,"\n")}}return""}(n,E)),p+=c.translators,p+=c.editors,p+="|}\n",p+=Tt(l),p+=(k=a[h],A=Object.keys(r),_=a[g],x="[[Category:".concat(k,"]]"),A.forEach((function(e){var t=s[e.toUpperCase()].replace("_"," "),n=_===v?"Story !!":"Story";x+="\n[[Category:".concat(t," - ").concat(n,"]]")})),x)}var At=function(e){var t=e.persons,n=e.personsTypeDetailKey,r=e.textCol,a=e.bottomCol,o=t.reduce((function(e,t){var n=t[b],a=t[y];return n||a?(0!==e.length&&(e+=", "),e+=a?a.startsWith("http")?function(e,t,n){return"{{Link|".concat(e,"|").concat(t,"|").concat(n,"}}")}(a,n,r):function(e,t,n){return"{{inLink|User:".concat(e,"|").concat(t,"|").concat(n,"}}")}(a,n,r):n):e}),"");if(0===o.length)return o;var i=n===m?"Translation":"Proofreading";return'|-\n! colspan="2" style="text-align:center;background-color:'.concat(a,";color:").concat(r,";\" |'''").concat(i,": ").concat(o," '''\n")},_t=function(e,t){var n=e.location,r=e.author,a=e.translators,o=e.editors,i=t[w],l=t[O],c=t[S],u=t[k],s={};return s.header='{| class="article-table" cellspacing="1/6" cellpadding="2" border="1" align="center" width="100%"\n! colspan="2" style="text-align:center;background-color:'.concat(i,"; color:").concat(u,";\" |'''Writer:''' ").concat(r,'\n|-\n| colspan="2" |[[File:HEADERFILE|660px|link=|center]]\n|-\n! colspan="2" style="text-align:center;background-color:').concat(l,"; color:").concat(u,";\" |'''Location: ").concat(n,"'''\n"),s.dialogueRender="|-\n|[[File:FILENAME|x200px|link=|center]]\n|\n",s.cgRender='|-\n! colspan="2" style="text-align:center;" |[[File:FILENAME|center|link=|660px]]\n',s.heading='|-\n! colspan="2" style="text-align:center;background-color:'.concat(l,"; color:").concat(u,";\" |'''HEADING'''\n"),s.translators=At({persons:a,personsTypeDetailKey:m,textCol:u,bottomCol:c}),s.editors=At({persons:o,personsTypeDetailKey:d,textCol:u,bottomCol:c}),s};function xt(e,t){0===t.length?localStorage.removeItem(e):JSON.stringify(t)!==localStorage.getItem(e)&&localStorage.setItem(e,JSON.stringify(t))}function jt(e){var t="{{StoryNavBar\n|name = ".concat(e[A],"\n");return e[_]&&(t+="|prev = ".concat(e[_],"\n")),e[x]&&(t+="|next = ".concat(e[x],"\n")),t}function Nt(e){var t=jt(e);return t+="}}\n"}function Tt(e){var t=jt(e);return t+="|chapter list = {{:".concat(e[A],"/Chapters}}\n"),t+="}}\n"}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=function(){var e=Object(r.useContext)(R),t=e.nav,n=e.setNav,o=function(e){var r=e.target,a=r.id,o=r.value;n(It(It({},t),{},Rt({},a,o)))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"For examples on how to fill out the values in this tab, please refer to the"," ",a.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://ensemble-stars.fandom.com/wiki/Template:StoryNavBar"},"StoryNavBar template page")," ","on the wiki."),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:A},"Story Name"),a.a.createElement("input",{type:"text",id:A,value:t[A],onChange:o})),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:_},"Prev"),a.a.createElement("input",{type:"text",id:_,value:t[_],onChange:o})),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:x},"Next"),a.a.createElement("input",{type:"text",id:x,value:t[x],onChange:o})),a.a.createElement("p",{className:"p--margin-bottom-none"},"Top nav bar code preview"),a.a.createElement("blockquote",{className:"preview"},"".concat(Nt(t))),a.a.createElement("p",{className:"p--margin-bottom-none"},"Bottom nav bar code preview"),a.a.createElement("blockquote",{className:"preview"},"".concat(Tt(t))))};function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(){var e=Object(r.useContext)(R),t=e.renderRef,n=e.renders,o=e.setRenders,i=function(e){var r=Kt(Kt({},n),{},Dt({},e.target.id,e.target.value));t.current=r,o(r)};return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Please paste in the file names of the dialogue renders as written in the wiki (ex. Tsukasa Suou School Dialogue Render.png)",a.a.createElement("br",null),"(This tab will fill out once you paste dialogue into the Text tab)"),a.a.createElement("div",{id:"renderForms"},Object.entries(n).map((function(e){var t=Mt(e,2),n=t[0],r=t[1];return a.a.createElement(Lt,{key:n,name:n,value:r,link:s[n.toUpperCase()],onChange:i})}))))}function Lt(e){var t=e.name,n=e.link,r=e.value,o=e.onChange;return a.a.createElement("div",{className:"row"},a.a.createElement("label",{htmlFor:t,className:"row__spacer"},a.a.createElement(Yt,{link:n,name:t})),a.a.createElement("input",{id:t,onChange:o,value:r}))}function Yt(e){var t=e.name,n=e.link;return a.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"http://ensemble-stars.wikia.com/wiki/".concat(n,"/Gallery#Render")},t)}function Gt(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"row row--label-only"},a.a.createElement("span",{className:"row__spacer"}),a.a.createElement("label",{htmlFor:"title"},"Arbitrary title needed to make citation links work")),a.a.createElement("div",{className:"row"},a.a.createElement("label",{className:"row__spacer",htmlFor:"title"},"Chapter Title"),a.a.createElement("input",{type:"text",id:"title"})),a.a.createElement("div",{className:"row row--tl-editor"},a.a.createElement("label",{htmlFor:"TL Notes",className:"row__spacer"},"TL Notes"),a.a.createElement(ee,null)))}n(396);function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wt={TEXT:"Text",NAV:"Story Nav",DETAILS:"Details",RENDERS:"Renders",TL_NOTES:"TL Notes"},qt=Object.values(Wt);function Xt(){var e=Object(r.useRef)(null);return a.a.createElement(M,null,a.a.createElement("div",{className:"main-page"},a.a.createElement(Jt,null),a.a.createElement(Vt,{outputRef:e}),a.a.createElement("textarea",{className:"output",ref:e,spellCheck:!1})))}var Jt=function(){var e=Bt(Object(r.useState)(Wt.TEXT),2),t=e[0],n=e[1];return a.a.createElement("div",{className:"input"},a.a.createElement(U,{tabs:qt,clicked:t,onClick:n}),a.a.createElement(D,{value:Wt.TEXT,clicked:t},a.a.createElement(Q,null)),a.a.createElement(D,{value:Wt.NAV,clicked:t},a.a.createElement(Pt,null)),a.a.createElement(D,{value:Wt.DETAILS,clicked:t},a.a.createElement(dt,null)),a.a.createElement(D,{value:Wt.RENDERS,clicked:t},a.a.createElement(Ft,null)),a.a.createElement(D,{value:Wt.TL_NOTES,clicked:t},a.a.createElement(Gt,null)))},Zt="Copy Output",$t="Copied",Vt=function(e){var t=e.outputRef,n=Object(r.useContext)(R),o=n.nav,i=n.details,l=n.setDetails,c=n.colors,u=n.renders,s=n.inputRef,f=n.tlNotesRef,p=Bt(Object(r.useState)(Zt),2),h=p[0],m=p[1],d=Bt(Object(r.useState)(""),2),b=d[0],y=d[1];return a.a.createElement("div",{className:"actions"},a.a.createElement("button",{type:"button",onClick:function(){m(Zt),y("");var e=kt({inputData:s.current.editor.getData(),tlNotesData:f.current.editor.getData(),nav:o,renders:u,details:i,onChangeDetails:l,colors:c});t.current.value=e},id:"convert-button"},"CONVERT"),a.a.createElement("button",{type:"button",onClick:function(){t.current.select(),document.execCommand("copy"),m($t)},id:"copy-button"},h),a.a.createElement("p",{className:"error"},b))},Qt=n.p+"assets/eef38db8d419ffc717ddfdeefe186dfb.png",en=n.p+"assets/1532b15ffd44033a159f2b3dd2ff1f30.png",tn=n.p+"assets/93433a3662a5e093d319399e4a3c4e1c.PNG",nn=n.p+"assets/5b7848153c641ca8193298bc612df9b7.PNG",rn=n.p+"assets/73a5159db4d542b6af51ff82a4ba4184.PNG";n(397);function an(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"how-to-page"},a.a.createElement("h2",null,"TEXT GUIDELINES"),a.a.createElement("h3",null,"Text Tab"),a.a.createElement("p",null,"Copy and paste your translated chapter into the text box."),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("strong",null,"Header images and mid-dialogue images")," - You can include whole-row images such as a header image or CGs by inserting the EXACT file name (ex. (Resounding Beat) Jun Sazanami CG2.png) into the dialogue on its own line. To set the header image, make the image file name the first line in the dialogue."),a.a.createElement("li",null,"NOTE: Make sure to upload the header image to the wiki before creating the new chapter page."),a.a.createElement("li",null,a.a.createElement("strong",null,"Headings for scene changes"),' - You can indicate scene changes by including a line that starts with "Heading: " in the dialogue. I\'m still working on a way to set the color of individual headings, so for now any mid-chapter headings will take the "Location" color in the Details tab.'),a.a.createElement("li",null,a.a.createElement("strong",null,"Bold and italic text")," - Bold and italic text should be preserved when pasted in from a Word/Google document."),a.a.createElement("li",null,a.a.createElement("strong",null,"Links")," - Links should also be preserved when pasted in. Make sure every link is like an external one (i.e. with the https:// in front).")),a.a.createElement("p",null,"Here's an example of a short dialogue:"),a.a.createElement("blockquote",null,"The header image.png",a.a.createElement("br",null),a.a.createElement("strong",null,"Person A:")," This is a line said by Person A! Their line starts with their name followed by a colon.",a.a.createElement("br",null),a.a.createElement("strong",null,"Person B:")," This is a line said by another person!",a.a.createElement("br",null),'Heading: Location: Hallway (will appear as "Location: Hallway" in story)',a.a.createElement("br",null),"A screenshot of the game.jpeg",a.a.createElement("br",null),a.a.createElement("strong",null,"Person A:")," This is a third line from Person A."),a.a.createElement("p",null,"When characters like Eichi have multiple lines at once, the following dialogue formats are accepted:"),a.a.createElement("blockquote",null,a.a.createElement("strong",null,"Person A:")," Line by person A",a.a.createElement("br",null),"Second line by person A (line doesn't begin with name)",a.a.createElement("br",null),a.a.createElement("strong",null,"Person B:")," Line by person B",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("strong",null,"Person A:")," Line by person A",a.a.createElement("br",null),a.a.createElement("strong",null,"Person A:")," Second line by person A (line begins with name)",a.a.createElement("br",null),a.a.createElement("strong",null,"Person B:")," Line by person B"),a.a.createElement("h3",null,"Details Tab"),a.a.createElement("p",null,"Fill in information about the chapter and its appearance on the wiki."),a.a.createElement("p",null,"The Translator and Editor values for the chapter's footer should auto-fill based on previous input, if you allow websites to cache information in your local storage. They will not be added if left blank."),a.a.createElement("p",null,"The credit link fields for each translator/editor can either be the person's wiki username, or some external link. If the credit link is a wiki username, it will be treated as an internal link and formatted with the"," ",a.a.createElement("a",{href:"https://ensemble-stars.fandom.com/wiki/Template:InLink"},"template for internal links"),"."),a.a.createElement("p",null," ","Make sure that external links include all the stuff at the beginning or they will break (and the formatter won't recognize them as external links)! They should start with http://..."),a.a.createElement("p",null,"Diagram of the Heading Colors options:"),a.a.createElement("img",{alt:"Diagram of the Heading Colors",src:Qt}),a.a.createElement("h3",null,"Renders Tab"),a.a.createElement("p",null,"The renders tab should automatically display which characters are in the dialogue, with a text box next to each name. Fill in the file names of the renders that should be used for each character. (ex. Tsukasa Suou School Dialogue Render.png)"),a.a.createElement("p",null,"For now, if you want to use more than one render per character in one chapter, you have to format each section of the chapter with different renders separately."),a.a.createElement("h3",{id:"tlNotesSection"},"TL Notes Tab"),a.a.createElement("p",null,"In the Text tab, you can mark the place the translation note refers to with a marker like this:"),a.a.createElement("blockquote",null,"Izumi: I don’t know if they’re Eden or oden[1] or what, but we can’t let them have their way in our territory[2]."),a.a.createElement("p",null,"You can have markers in the middle or end of the line, or even multiple markers in one line if needed."),a.a.createElement("p",null,"In the TL Notes tab, here's an example of how the notes should be formatted:"),a.a.createElement("blockquote",null,a.a.createElement("ol",null,a.a.createElement("li",null,"Place translator notes in a numbered list like this."),a.a.createElement("li",null,"Make sure the numbers correspond to each marker!"))),a.a.createElement("ul",null,a.a.createElement("li",null,"The formatter identifies TL notes by looking for numbers at the beginning of a paragraph."),a.a.createElement("li",null,a.a.createElement("strong",null,"The TL notes can also be in an actual ordered list, which is preferable.")," ","You can use the editor to format the list:"),a.a.createElement("img",{alt:"how to creat the list with the editor",src:en})),a.a.createElement("h2",null,"CREATING A NEW PAGE ON THE WIKI"),a.a.createElement("ol",null,a.a.createElement("li",null,"Copy the text that shows up on the right-hand box (can be done with Ctrl+A/Cmd+A)"),a.a.createElement("li",null,"Go to the cover page of the story and edit the URL to have the name of the chapter.",a.a.createElement("br",null),"For example, https://www.ensemble-stars.wikia.com/wiki/Checkmate/CHAPTER TITLE"),a.a.createElement("li",null,"Choose to create a new page.",a.a.createElement("br",null),a.a.createElement("img",{alt:"newPage1",src:tn})),a.a.createElement("li",null,"Instead of the visual editor, switch to the source editor.",a.a.createElement("br",null),a.a.createElement("img",{alt:"newPage2",src:nn})),a.a.createElement("li",null,"Paste in the formatted text, and publish the page.",a.a.createElement("br",null),a.a.createElement("img",{alt:"newPage3",src:rn})))),a.a.createElement("footer",null))}n(398);var on=Object(i.hot)((function(){return a.a.createElement(l.a,{basename:"/"},a.a.createElement(u,null),a.a.createElement(c.c,null,a.a.createElement(c.a,{exact:!0,path:"/"},a.a.createElement(Xt,null)),a.a.createElement(c.a,{exact:!0,path:"/howto"},a.a.createElement(an,null))))}));Object(o.render)(a.a.createElement(on,null),document.querySelector("#root"))}});